<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Comparatif d√©taill√© de 8 solutions de gestion de stock IT. Analyse selon les crit√®res du cahier des charges : conformit√© RGPD, app mobile, tra√ßabilit√©.">
    <meta name="theme-color" content="#0a0a1a">
    <title>Comparatif des solutions | GestStock IT</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%238B5CF6'/><text x='50%' y='55%' dominant-baseline='middle' text-anchor='middle' font-family='system-ui' font-weight='bold' font-size='45' fill='white'>TC</text></svg>">

    <style>
    /* ============================================
       COMPARATIF ‚Äî PR√âSENTATION S√âQUENTIELLE
       Styles sp√©cifiques (inline)
    ============================================ */

    body {
        background: #0a0a1a;
    }

    /* Override main.js IntersectionObserver qui cache les √©l√©ments avec opacity:0 inline */
    .app-showcase .app-col-left,
    .app-showcase .app-col-right,
    .app-showcase .app-fiche,
    .app-showcase .criteria-header,
    .app-showcase .score-wrap,
    .legend-box,
    .progress-section,
    .page-nav-section .page-nav,
    .page-nav-section .page-nav-link {
        opacity: 1 !important;
        transform: none !important;
    }

    /* === PROGRESS BAR (top) === */
    .progress-section {
        position: sticky;
        top: 72px;
        z-index: 100;
        background: rgba(10, 10, 26, 0.92);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border-bottom: 1px solid rgba(139, 92, 246, 0.12);
        padding: 14px 0 12px;
    }

    .progress-inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 20px;
    }

    .progress-bar-track {
        flex: 1;
        height: 4px;
        background: rgba(255, 255, 255, 0.06);
        border-radius: 4px;
        overflow: hidden;
        position: relative;
    }

    .progress-bar-fill {
        height: 100%;
        background: linear-gradient(90deg, #8b5cf6, #3b82f6);
        border-radius: 4px;
        transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 0 12px rgba(139, 92, 246, 0.4);
    }

    .progress-text {
        font-size: 0.8rem;
        font-weight: 600;
        color: #94a3b8;
        white-space: nowrap;
        min-width: 110px;
        text-align: right;
        font-family: 'Inter', sans-serif;
    }

    .progress-text strong {
        color: #f1f5f9;
    }

    /* === MINI DOTS (progress) === */
    .progress-dots {
        display: flex;
        gap: 6px;
        align-items: center;
    }

    .progress-dot {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        border: none;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        padding: 0;
    }

    .progress-dot:hover {
        background: rgba(139, 92, 246, 0.5);
        transform: scale(1.3);
    }

    .progress-dot.active {
        background: #8b5cf6;
        transform: scale(1.4);
        box-shadow: 0 0 10px rgba(139, 92, 246, 0.6);
    }

    .progress-dot.visited {
        background: rgba(139, 92, 246, 0.35);
    }

    /* === MAIN APP SHOWCASE === */
    .app-showcase {
        position: relative;
        min-height: calc(100vh - 220px);
        overflow: hidden;
        padding: 40px 0 120px;
    }

    .app-slide-container {
        position: relative;
        width: 100%;
    }

    .app-slide {
        width: 100%;
        opacity: 0;
        position: absolute;
        top: 0;
        left: 0;
        pointer-events: none;
        transform: translateX(60px);
        transition: opacity 0.45s cubic-bezier(0.4, 0, 0.2, 1),
                    transform 0.45s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .app-slide.active {
        opacity: 1;
        position: relative;
        pointer-events: all;
        transform: translateX(0);
    }

    .app-slide.exit-left {
        opacity: 0;
        transform: translateX(-60px);
    }

    .app-slide.exit-right {
        opacity: 0;
        transform: translateX(60px);
    }

    .app-slide.enter-left {
        transform: translateX(-60px);
    }

    .app-slide.enter-right {
        transform: translateX(60px);
    }

    /* === FICHE APPLICATION ‚Äî 2 colonnes === */
    .app-fiche {
        display: grid;
        grid-template-columns: 38% 1fr;
        gap: 40px;
        align-items: start;
    }

    /* --- COLONNE GAUCHE --- */
    .app-col-left {
        position: relative;
        background: linear-gradient(180deg, rgba(18, 18, 42, 0.95) 0%, rgba(12, 12, 30, 0.95) 100%);
        border-radius: 24px;
        padding: 40px 32px;
        text-align: center;
        overflow: hidden;
    }

    .app-col-left::before {
        content: '';
        position: absolute;
        top: 0; left: 0; right: 0;
        height: 3px;
        border-radius: 24px 24px 0 0;
    }

    /* Border colors by status */
    .app-fiche[data-statut="Recommand√©e"] .app-col-left {
        border: 1px solid rgba(139, 92, 246, 0.5);
        box-shadow: 0 0 60px rgba(139, 92, 246, 0.12), inset 0 1px 0 rgba(139, 92, 246, 0.2);
    }
    .app-fiche[data-statut="Recommand√©e"] .app-col-left::before {
        background: linear-gradient(90deg, #8b5cf6, #3b82f6);
    }

    .app-fiche[data-statut="Alternative"] .app-col-left {
        border: 1px solid rgba(16, 185, 129, 0.3);
    }
    .app-fiche[data-statut="Alternative"] .app-col-left::before {
        background: linear-gradient(90deg, #10b981, #06b6d4);
        opacity: 0.6;
    }

    .app-fiche[data-statut="Non retenue"] .app-col-left {
        border: 1px solid rgba(148, 163, 184, 0.15);
    }
    .app-fiche[data-statut="Non retenue"] .app-col-left::before {
        background: rgba(148, 163, 184, 0.2);
    }

    /* Badge statut */
    .app-statut-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 5px 14px;
        border-radius: 100px;
        font-size: 0.7rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.1em;
        margin-bottom: 28px;
    }

    .app-statut-badge.recommandee {
        background: linear-gradient(135deg, #8b5cf6, #6366f1);
        color: #fff;
        box-shadow: 0 4px 20px rgba(139, 92, 246, 0.4);
    }

    .app-statut-badge.alternative {
        background: rgba(16, 185, 129, 0.15);
        border: 1px solid rgba(16, 185, 129, 0.3);
        color: #34d399;
    }

    .app-statut-badge.non-retenue {
        background: rgba(100, 116, 139, 0.15);
        border: 1px solid rgba(100, 116, 139, 0.3);
        color: #94a3b8;
    }

    /* Logo placeholder */
    .app-logo-big {
        width: 88px;
        height: 88px;
        border-radius: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        font-size: 2rem;
        font-weight: 800;
        color: #fff;
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        position: relative;
    }

    /* App name */
    .app-nom {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 1.8rem;
        font-weight: 700;
        color: #f1f5f9;
        line-height: 1.15;
        margin-bottom: 8px;
    }

    .app-desc {
        font-size: 0.9rem;
        color: #94a3b8;
        line-height: 1.6;
        margin-bottom: 28px;
    }

    /* Score circulaire SVG */
    .score-wrap {
        margin: 0 auto 24px;
        width: 140px;
        height: 140px;
        position: relative;
    }

    .score-wrap svg {
        width: 100%;
        height: 100%;
        transform: rotate(-90deg);
    }

    .score-bg {
        fill: none;
        stroke: #1e293b;
        stroke-width: 10;
    }

    .score-arc {
        fill: none;
        stroke-width: 10;
        stroke-linecap: round;
        stroke-dasharray: 339.292;
        stroke-dashoffset: 339.292;
        transition: stroke-dashoffset 1.2s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .score-label {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
    }

    .score-number-big {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 2.2rem;
        font-weight: 800;
        color: #f1f5f9;
        line-height: 1;
        display: block;
    }

    .score-sub {
        font-size: 0.75rem;
        color: #64748b;
        font-weight: 500;
    }

    /* Site web link */
    .app-site-link {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        color: #8b5cf6;
        font-size: 0.85rem;
        font-weight: 600;
        transition: all 0.2s;
    }

    .app-site-link:hover {
        color: #a78bfa;
        gap: 10px;
    }

    /* --- COLONNE DROITE --- */
    .app-col-right {
        background: linear-gradient(180deg, rgba(18, 18, 42, 0.95) 0%, rgba(12, 12, 30, 0.95) 100%);
        border: 1px solid rgba(139, 92, 246, 0.12);
        border-radius: 24px;
        padding: 0;
        overflow: hidden;
    }

    .criteria-header {
        padding: 24px 32px 16px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.04);
    }

    .criteria-header h3 {
        font-family: 'Space Grotesk', sans-serif;
        font-size: 1.1rem;
        font-weight: 600;
        color: #f1f5f9;
        margin: 0;
    }

    .criteria-header p {
        font-size: 0.8rem;
        color: #64748b;
        margin: 4px 0 0;
    }

    /* Crit√®re row */
    .critere-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 14px 32px;
        transition: background 0.2s;
        cursor: default;
        position: relative;
        opacity: 0;
        transform: translateY(12px);
    }

    .critere-row.animate-in {
        opacity: 1 !important;
        transform: translateY(0) !important;
        transition: opacity 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                    transform 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                    background 0.2s;
    }

    .critere-row:nth-child(odd) {
        background: rgba(255, 255, 255, 0.015);
    }

    .critere-row:hover {
        background: rgba(139, 92, 246, 0.06);
    }

    .critere-left {
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .critere-icone {
        font-size: 1.15rem;
        width: 32px;
        text-align: center;
        flex-shrink: 0;
    }

    .critere-info {
        display: flex;
        flex-direction: column;
    }

    .critere-label-text {
        font-size: 0.9rem;
        font-weight: 500;
        color: #e2e8f0;
    }

    .critere-detail {
        font-size: 0.75rem;
        color: #64748b;
        margin-top: 2px;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease, opacity 0.3s ease;
        opacity: 0;
    }

    .critere-row:hover .critere-detail,
    .critere-row.touch-active .critere-detail {
        max-height: 40px;
        opacity: 1;
    }

    /* Valeur crit√®re */
    .critere-valeur {
        flex-shrink: 0;
    }

    .val-icon {
        width: 26px;
        height: 26px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 13px;
        font-weight: 700;
    }

    .val-icon.oui {
        background: rgba(16, 185, 129, 0.15);
        color: #10b981;
    }

    .val-icon.non {
        background: rgba(239, 68, 68, 0.15);
        color: #ef4444;
    }

    .val-icon.partiel {
        background: rgba(245, 158, 11, 0.15);
        color: #f59e0b;
    }

    /* Facilit√© dots */
    .facilite-dots {
        display: flex;
        gap: 4px;
    }

    .facilite-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.08);
        transition: all 0.3s;
    }

    .facilite-dot.filled {
        box-shadow: 0 0 8px rgba(16, 185, 129, 0.4);
    }

    .facilite-dot.filled.lv-5,
    .facilite-dot.filled.lv-4 {
        background: #10b981;
    }

    .facilite-dot.filled.lv-3 {
        background: #f59e0b;
    }

    .facilite-dot.filled.lv-2,
    .facilite-dot.filled.lv-1 {
        background: #f59e0b;
    }

    /* === BARRE DE NAVIGATION BAS (sticky bottom) === */
    .nav-bottom {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        z-index: 200;
        background: rgba(10, 10, 26, 0.94);
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border-top: 1px solid rgba(139, 92, 246, 0.12);
        padding: 14px 0;
    }

    .nav-bottom-inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 16px;
    }

    .nav-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 12px 28px;
        font-family: 'Inter', sans-serif;
        font-size: 0.85rem;
        font-weight: 600;
        border: 1px solid rgba(139, 92, 246, 0.25);
        border-radius: 14px;
        background: rgba(139, 92, 246, 0.08);
        color: #c4b5fd;
        cursor: pointer;
        transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        min-width: 145px;
        justify-content: center;
    }

    .nav-btn:hover:not(:disabled) {
        background: rgba(139, 92, 246, 0.18);
        border-color: rgba(139, 92, 246, 0.5);
        color: #e9e2ff;
        transform: translateY(-2px);
        box-shadow: 0 6px 24px rgba(139, 92, 246, 0.2);
    }

    .nav-btn:active:not(:disabled) {
        transform: translateY(0);
    }

    .nav-btn:disabled {
        opacity: 0.3;
        cursor: not-allowed;
    }

    .nav-btn svg {
        width: 18px;
        height: 18px;
        flex-shrink: 0;
    }

    /* Dots au centre */
    .nav-dots {
        display: flex;
        gap: 8px;
        align-items: center;
    }

    .nav-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.1);
        border: none;
        cursor: pointer;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        padding: 0;
    }

    .nav-dot:hover {
        background: rgba(139, 92, 246, 0.5);
        transform: scale(1.25);
    }

    .nav-dot.active {
        background: #8b5cf6;
        transform: scale(1.5);
        box-shadow: 0 0 14px rgba(139, 92, 246, 0.6);
    }

    /* === L√âGENDE SECTION === */
    .legend-box {
        margin-top: 32px;
        padding: 24px 28px;
        background: rgba(255, 255, 255, 0.02);
        border: 1px solid rgba(255, 255, 255, 0.06);
        border-radius: 16px;
    }

    .legend-box h4 {
        font-size: 0.8rem;
        font-weight: 600;
        color: #94a3b8;
        text-transform: uppercase;
        letter-spacing: 0.06em;
        margin-bottom: 14px;
    }

    .legend-items-row {
        display: flex;
        flex-wrap: wrap;
        gap: 24px;
        align-items: center;
    }

    .legend-entry {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 0.82rem;
        color: #64748b;
    }

    .legend-entry .val-icon {
        width: 22px;
        height: 22px;
        font-size: 11px;
    }

    /* Keyboard hint */
    .keyboard-hint {
        margin-top: 12px;
        font-size: 0.75rem;
        color: #475569;
        text-align: center;
    }

    .keyboard-hint kbd {
        display: inline-block;
        padding: 2px 8px;
        background: rgba(255, 255, 255, 0.06);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 6px;
        font-family: 'Inter', sans-serif;
        font-size: 0.7rem;
        color: #94a3b8;
        margin: 0 2px;
    }

    /* === PAGE NAVIGATION (bas de page) === */
    .page-nav-section {
        padding-bottom: 100px;
    }

    /* === RESPONSIVE === */
    @media (max-width: 1024px) {
        .app-fiche {
            grid-template-columns: 1fr;
            gap: 24px;
        }

        .app-col-left {
            padding: 32px 24px;
        }

        .app-nom {
            font-size: 1.5rem;
        }

        .score-wrap {
            width: 120px;
            height: 120px;
        }

        .progress-dots {
            display: none;
        }
    }

    @media (max-width: 768px) {
        .progress-section {
            top: 64px;
        }

        .app-showcase {
            padding: 24px 0 100px;
        }

        .app-col-left {
            padding: 24px 20px;
        }

        .critere-row {
            padding: 12px 20px;
        }

        .criteria-header {
            padding: 20px 20px 14px;
        }

        .nav-btn {
            padding: 10px 16px;
            font-size: 0.8rem;
            min-width: 110px;
        }

        .nav-dots .nav-dot {
            width: 8px;
            height: 8px;
        }

        .app-nom {
            font-size: 1.3rem;
        }

        .score-wrap {
            width: 110px;
            height: 110px;
        }

        .score-number-big {
            font-size: 1.8rem;
        }

        .nav-bottom {
            padding: 10px 0;
        }

        .legend-box {
            margin-top: 20px;
            padding: 16px 18px;
        }

        .legend-items-row {
            gap: 14px;
        }

        .keyboard-hint {
            display: none;
        }
    }

    @media (max-width: 480px) {
        .nav-btn span.btn-label {
            display: none;
        }

        .nav-btn {
            min-width: 50px;
            padding: 10px 14px;
        }
    }

    /* === R√âSUM√â AVANTAGES / INCONV√âNIENTS === */
    .app-resume {
        margin-top: 16px;
        border-top: 1px solid rgba(255, 255, 255, 0.04);
    }

    .resume-section {
        padding: 16px 28px 12px;
    }

    .resume-section:first-child {
        padding-top: 20px;
    }

    .resume-title {
        font-size: 0.75rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 6px;
    }

    .resume-title.avantages {
        color: #10b981;
    }

    .resume-title.inconvenients {
        color: #f59e0b;
    }

    .resume-list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        flex-direction: column;
        gap: 6px;
    }

    .resume-list li {
        display: flex;
        align-items: flex-start;
        gap: 8px;
        font-size: 0.82rem;
        line-height: 1.45;
        color: #cbd5e1;
    }

    .resume-list li .r-icon {
        flex-shrink: 0;
        width: 18px;
        height: 18px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 9px;
        font-weight: 700;
        margin-top: 1px;
    }

    .resume-list li .r-icon.plus {
        background: rgba(16, 185, 129, 0.15);
        color: #10b981;
    }

    .resume-list li .r-icon.moins {
        background: rgba(245, 158, 11, 0.15);
        color: #f59e0b;
    }

    @media (max-width: 768px) {
        .resume-section {
            padding: 12px 18px 10px;
        }

        .resume-list li {
            font-size: 0.78rem;
        }
    }

    /* === ANIMATION HELPERS === */
    @keyframes slideUpFade {
        from { opacity: 0; transform: translateY(16px); }
        to { opacity: 1; transform: translateY(0); }
    }

    .anim-slide-up {
        animation: slideUpFade 0.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }
    </style>
</head>
<body>

    <!-- HEADER -->
    <header class="header" id="header">
        <div class="container">
            <div class="header-inner">
                <a href="index.html" class="logo">
                    <div class="logo-icon">TC</div>
                    <span>GestStock IT</span>
                </a>
                <nav class="nav" id="nav">
                    <ul class="nav-list">
                        <li><a href="index.html" class="nav-link">Accueil</a></li>
                        <li><a href="cahier-des-charges.html" class="nav-link">Cahier des charges</a></li>
                        <li><a href="comparatif.html" class="nav-link active">Comparatif</a></li>
                        <li><a href="recommandation.html" class="nav-link">Recommandation</a></li>
                    </ul>
                </nav>
                <button class="menu-toggle" id="menuToggle" aria-label="Menu">
                    <div class="menu-icon"><span></span><span></span><span></span></div>
                </button>
            </div>
        </div>
    </header>

    <main>
        <!-- PAGE HEADER -->
        <section class="page-header">
            <div class="container">
                <nav class="breadcrumb">
                    <a href="index.html">Accueil</a>
                    <span>/</span>
                    <span>Comparatif</span>
                </nav>
                <h1>Comparatif des solutions</h1>
                <p class="lead">Analyse d√©taill√©e de 8 applications ‚Äî Navigation application par application</p>
            </div>
        </section>

        <!-- PROGRESS BAR -->
        <section class="progress-section" id="progressSection">
            <div class="container">
                <div class="progress-inner">
                    <div class="progress-dots" id="progressDots"></div>
                    <div class="progress-bar-track">
                        <div class="progress-bar-fill" id="progressFill" style="width: 12.5%;"></div>
                    </div>
                    <div class="progress-text" id="progressText">
                        Application <strong>1</strong> / 8
                    </div>
                </div>
            </div>
        </section>

        <!-- APP SHOWCASE (zone principale) -->
        <section class="app-showcase">
            <div class="container">
                <div class="app-slide-container" id="slideContainer">
                    <!-- Les slides sont g√©n√©r√©es par JS -->
                </div>

                <!-- L√âGENDE -->
                <div class="legend-box">
                    <h4>L√©gende des crit√®res</h4>
                    <div class="legend-items-row">
                        <div class="legend-entry">
                            <div class="val-icon oui">‚úì</div>
                            <span>Crit√®re rempli</span>
                        </div>
                        <div class="legend-entry">
                            <div class="val-icon non">‚úó</div>
                            <span>Non rempli</span>
                        </div>
                        <div class="legend-entry">
                            <div class="val-icon partiel">‚ö†</div>
                            <span>Partiel</span>
                        </div>
                        <div class="legend-entry">
                            <div class="facilite-dots" style="margin-right:4px;">
                                <span class="facilite-dot filled lv-4"></span>
                                <span class="facilite-dot filled lv-4"></span>
                                <span class="facilite-dot filled lv-4"></span>
                                <span class="facilite-dot"></span>
                                <span class="facilite-dot"></span>
                            </div>
                            <span>Facilit√© (1-5)</span>
                        </div>
                    </div>
                    <p class="keyboard-hint">
                        Utilisez <kbd>‚Üê</kbd> <kbd>‚Üí</kbd> pour naviguer entre les applications, ou swipez sur mobile.
                    </p>
                </div>
            </div>
        </section>

        <!-- NAVIGATION PAGES (Cahier des charges / Recommandation) -->
        <section class="section page-nav-section" style="padding-top: 0;">
            <div class="container">
                <div class="page-nav">
                    <a href="cahier-des-charges.html" class="page-nav-link">
                        <span class="page-nav-direction">‚Üê Pr√©c√©dent</span>
                        <span class="page-nav-title">Cahier des charges</span>
                    </a>
                    <a href="recommandation.html" class="page-nav-link next">
                        <span class="page-nav-direction">Suivant ‚Üí</span>
                        <span class="page-nav-title">Recommandation finale</span>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <!-- NAV BOTTOM (sticky) -->
    <div class="nav-bottom" id="navBottom">
        <div class="container">
            <div class="nav-bottom-inner">
                <button class="nav-btn" id="btnPrev" disabled>
                    <svg viewBox="0 0 20 20" fill="none"><path d="M12 4l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                    <span class="btn-label">Pr√©c√©dent</span>
                </button>
                <div class="nav-dots" id="navDots"></div>
                <button class="nav-btn" id="btnNext">
                    <span class="btn-label">Suivant</span>
                    <svg viewBox="0 0 20 20" fill="none"><path d="M8 4l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
                </button>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="container">
            <div class="footer-inner">
                <div class="footer-info">
                    <p><strong>Cahier des charges ‚Äì Gestion de stock IT</strong></p>
                    <p>Document √† usage interne ‚Äì Direction des Syst√®mes d'Information</p>
                </div>
                <div class="footer-meta">
                    <p>Version 1.0 ‚Äì F√©vrier 2024</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
    // ============================================
    // COMPARATIF ‚Äî PR√âSENTATION S√âQUENTIELLE
    // Navigation application par application
    // ============================================

    (function() {
        'use strict';

        // === DONN√âES DES 8 APPLICATIONS ===
        const applications = [
            {
                id: 1,
                nom: "Timly",
                initiales: "Ti",
                couleurLogo: "#8b5cf6",
                description: "Solution compl√®te de gestion d'actifs IT avec tracking en temps r√©el",
                statut: "Recommand√©e",
                score: 9.2,
                siteWeb: "https://timly.com",
                avantages: [
                    "Remplit 100% des crit√®res du cahier des charges",
                    "App mobile native iOS & Android avec scan QR/code-barres",
                    "H√©bergement EU (Allemagne) ‚Äî RGPD certifi√© avec DPO d√©di√©",
                    "Interface tr√®s intuitive, d√©ploiement rapide (2-4 semaines)",
                    "API REST compl√®te pour int√©gration SAP/Microsoft Dynamics"
                ],
                inconvenients: [
                    "Solution payante (abonnement SaaS)",
                    "Personnalisation limit√©e au param√©trage existant",
                    "D√©pendance √† un √©diteur tiers"
                ],
                criteres: {
                    appMobile: { valeur: true, label: "App Mobile", icone: "üì±", detail: "iOS & Android natif" },
                    rgpd: { valeur: true, label: "Conformit√© RGPD", icone: "üîí", detail: "H√©bergement EU, DPO d√©di√©" },
                    historique: { valeur: true, label: "Historique", icone: "üìã", detail: "Historique complet des mouvements" },
                    exportCsv: { valeur: true, label: "Export CSV/Excel", icone: "üìä", detail: "Export multi-formats" },
                    facilite: { valeur: 5, label: "Facilit√©", icone: "‚ö°", detail: "Interface intuitive, formation courte" },
                    api: { valeur: true, label: "API REST", icone: "üîå", detail: "API compl√®te document√©e" },
                    multiSites: { valeur: true, label: "Multi-sites", icone: "üè¢", detail: "Gestion multi-entrep√¥ts" },
                    supportFr: { valeur: true, label: "Support FR", icone: "üá´üá∑", detail: "Support et interface en fran√ßais" }
                }
            },
            {
                id: 2,
                nom: "Hector",
                initiales: "He",
                couleurLogo: "#3b82f6",
                description: "Gestion d'inventaire et suivi des actifs IT",
                statut: "Alternative",
                score: 7.8,
                siteWeb: "https://hectorassetmanager.com",
                avantages: [
                    "App mobile iOS/Android/iPadOS avec scan codes-barres int√©gr√©",
                    "Serveurs Canada + EU, conforme RGPD",
                    "Gestion check-in/check-out des √©quipements",
                    "Support et interface en fran√ßais"
                ],
                inconvenients: [
                    "Pas de gestion multi-sites native",
                    "Courbe d'apprentissage moyenne",
                    "Tarification par utilisateur qui peut augmenter rapidement"
                ],
                criteres: {
                    appMobile: { valeur: true, label: "App Mobile", icone: "üì±", detail: "Application mobile disponible" },
                    rgpd: { valeur: true, label: "Conformit√© RGPD", icone: "üîí", detail: "Conforme RGPD" },
                    historique: { valeur: true, label: "Historique", icone: "üìã", detail: "Suivi des mouvements" },
                    exportCsv: { valeur: true, label: "Export CSV/Excel", icone: "üìä", detail: "Export CSV disponible" },
                    facilite: { valeur: 3, label: "Facilit√©", icone: "‚ö°", detail: "Interface correcte, courbe d'apprentissage moyenne" },
                    api: { valeur: true, label: "API", icone: "üîå", detail: "API disponible" },
                    multiSites: { valeur: false, label: "Multi-sites", icone: "üè¢", detail: "Mono-site uniquement" },
                    supportFr: { valeur: true, label: "Support FR", icone: "üá´üá∑", detail: "Support en fran√ßais" }
                }
            },
            {
                id: 3,
                nom: "GLPI",
                initiales: "GL",
                couleurLogo: "#10b981",
                description: "Solution open-source de gestion de parc informatique",
                statut: "Alternative",
                score: 7.5,
                siteWeb: "https://glpi-project.org",
                avantages: [
                    "Open-source et gratuit, large communaut√©",
                    "H√©bergement on-premise possible ‚Äî contr√¥le total des donn√©es",
                    "API REST compl√®te, multi-entit√©s natif",
                    "Communaut√© fran√ßaise tr√®s active"
                ],
                inconvenients: [
                    "Pas d'application mobile native",
                    "Interface complexe, formation n√©cessaire",
                    "N√©cessite h√©bergement et maintenance serveur",
                    "Configuration initiale lourde"
                ],
                criteres: {
                    appMobile: { valeur: false, label: "App Mobile", icone: "üì±", detail: "Pas d'application mobile native" },
                    rgpd: { valeur: true, label: "Conformit√© RGPD", icone: "üîí", detail: "H√©bergement on-premise possible" },
                    historique: { valeur: true, label: "Historique", icone: "üìã", detail: "Historique complet" },
                    exportCsv: { valeur: true, label: "Export CSV/Excel", icone: "üìä", detail: "Export multi-formats" },
                    facilite: { valeur: 2, label: "Facilit√©", icone: "‚ö°", detail: "Interface complexe, formation n√©cessaire" },
                    api: { valeur: true, label: "API REST", icone: "üîå", detail: "API REST compl√®te" },
                    multiSites: { valeur: true, label: "Multi-sites", icone: "üè¢", detail: "Multi-entit√©s natif" },
                    supportFr: { valeur: true, label: "Support FR", icone: "üá´üá∑", detail: "Communaut√© fran√ßaise active" }
                }
            },
            {
                id: 4,
                nom: "Snipe-IT",
                initiales: "Sn",
                couleurLogo: "#f59e0b",
                description: "Gestion d'actifs IT open-source",
                statut: "Non retenue",
                score: 7.0,
                siteWeb: "https://snipeitapp.com",
                avantages: [
                    "Open-source, self-hosted ‚Äî donn√©es ma√Ætris√©es",
                    "API REST v6 compl√®te et bien document√©e",
                    "Log d'activit√© et gestion par emplacements",
                    "Interface relativement claire"
                ],
                inconvenients: [
                    "Pas d'application mobile native (web responsive seulement)",
                    "Interface et support en anglais uniquement",
                    "Installation technique requise (serveur, Docker)",
                    "Pas de support officiel en fran√ßais"
                ],
                criteres: {
                    appMobile: { valeur: false, label: "App Mobile", icone: "üì±", detail: "Interface web responsive uniquement" },
                    rgpd: { valeur: true, label: "Conformit√© RGPD", icone: "üîí", detail: "Self-hosted, donn√©es ma√Ætris√©es" },
                    historique: { valeur: true, label: "Historique", icone: "üìã", detail: "Log d'activit√© complet" },
                    exportCsv: { valeur: true, label: "Export CSV/Excel", icone: "üìä", detail: "Export CSV natif" },
                    facilite: { valeur: 3, label: "Facilit√©", icone: "‚ö°", detail: "Interface claire mais installation technique" },
                    api: { valeur: true, label: "API REST", icone: "üîå", detail: "API REST v6" },
                    multiSites: { valeur: true, label: "Multi-sites", icone: "üè¢", detail: "Gestion par emplacements" },
                    supportFr: { valeur: false, label: "Support FR", icone: "üá´üá∑", detail: "Interface et support en anglais uniquement" }
                }
            },
            {
                id: 5,
                nom: "Stock et Inventaire Simple",
                initiales: "Si",
                couleurLogo: "#22c55e",
                description: "App mobile gratuite de gestion de stock ‚Äî 1M+ t√©l√©chargements",
                statut: "Alternative",
                score: 6.8,
                siteWeb: "#",
                avantages: [
                    "Application gratuite, 4.7‚òÖ avec 1M+ t√©l√©chargements",
                    "Tr√®s simple d'utilisation, aucune formation n√©cessaire",
                    "Export CSV/Excel int√©gr√©, scan codes-barres",
                    "Stockage local ou Google Drive"
                ],
                inconvenients: [
                    "Android uniquement ‚Äî pas d'iOS",
                    "Aucune API disponible pour int√©grations",
                    "Pas de gestion multi-sites",
                    "RGPD partiel (cloud Google Drive non certifi√©)"
                ],
                criteres: {
                    appMobile: { valeur: true, label: "App Mobile", icone: "üì±", detail: "Android natif, 1M+ downloads" },
                    rgpd: { valeur: "partiel", label: "Conformit√© RGPD", icone: "üîí", detail: "Donn√©es locales mais cloud optionnel non certifi√©" },
                    historique: { valeur: true, label: "Historique", icone: "üìã", detail: "Historique basique des mouvements" },
                    exportCsv: { valeur: true, label: "Export CSV/Excel", icone: "üìä", detail: "Export CSV et Excel" },
                    facilite: { valeur: 5, label: "Facilit√©", icone: "‚ö°", detail: "Tr√®s simple d'utilisation" },
                    api: { valeur: false, label: "API", icone: "üîå", detail: "Pas d'API disponible" },
                    multiSites: { valeur: false, label: "Multi-sites", icone: "üè¢", detail: "Mono-entrep√¥t" },
                    supportFr: { valeur: true, label: "Support FR", icone: "üá´üá∑", detail: "Interface en fran√ßais" }
                }
            },
            {
                id: 6,
                nom: "Sortly",
                initiales: "So",
                couleurLogo: "#06b6d4",
                description: "Gestion visuelle d'inventaire avec interface intuitive",
                statut: "Non retenue",
                score: 7.0,
                siteWeb: "https://sortly.com",
                avantages: [
                    "Interface tr√®s intuitive et visuelle (photos des articles)",
                    "App mobile iOS & Android avec scan",
                    "Gestion par dossiers/emplacements multiples",
                    "Export CSV disponible"
                ],
                inconvenients: [
                    "API r√©serv√©e au plan Enterprise (tr√®s co√ªteux)",
                    "Support et interface en anglais uniquement",
                    "Serveurs principaux aux USA",
                    "Fonctionnalit√©s avanc√©es payantes"
                ],
                criteres: {
                    appMobile: { valeur: true, label: "App Mobile", icone: "üì±", detail: "iOS & Android" },
                    rgpd: { valeur: true, label: "Conformit√© RGPD", icone: "üîí", detail: "Conforme" },
                    historique: { valeur: true, label: "Historique", icone: "üìã", detail: "Historique des mouvements" },
                    exportCsv: { valeur: true, label: "Export CSV/Excel", icone: "üìä", detail: "Export CSV" },
                    facilite: { valeur: 5, label: "Facilit√©", icone: "‚ö°", detail: "Interface tr√®s intuitive" },
                    api: { valeur: "partiel", label: "API", icone: "üîå", detail: "API limit√©e (plan Enterprise)" },
                    multiSites: { valeur: true, label: "Multi-sites", icone: "üè¢", detail: "Dossiers/emplacements multiples" },
                    supportFr: { valeur: false, label: "Support FR", icone: "üá´üá∑", detail: "Anglais uniquement" }
                }
            },
            {
                id: 7,
                nom: "Mecalux Easy WMS",
                initiales: "Mx",
                couleurLogo: "#6366f1",
                description: "Syst√®me de gestion d'entrep√¥t pour logistique industrielle",
                statut: "Non retenue",
                score: 5.5,
                siteWeb: "https://mecalux.fr",
                avantages: [
                    "Solution industrielle robuste, multi-entrep√¥ts natif",
                    "Tra√ßabilit√© compl√®te avec connecteurs ERP",
                    "H√©bergement EU, support en fran√ßais",
                    "Export multi-formats (CSV, PDF)"
                ],
                inconvenients: [
                    "Solution surdimensionn√©e pour du stock IT",
                    "Pas d'app mobile native (terminaux RF uniquement)",
                    "Tr√®s complexe, formation longue requise",
                    "Orient√©e grandes entreprises logistiques ‚Äî co√ªt √©lev√©"
                ],
                criteres: {
                    appMobile: { valeur: "partiel", label: "App Mobile", icone: "üì±", detail: "Terminal RF, pas de smartphone classique" },
                    rgpd: { valeur: true, label: "Conformit√© RGPD", icone: "üîí", detail: "H√©bergement EU" },
                    historique: { valeur: true, label: "Historique", icone: "üìã", detail: "Tra√ßabilit√© compl√®te" },
                    exportCsv: { valeur: true, label: "Export CSV/PDF", icone: "üìä", detail: "Export multi-formats" },
                    facilite: { valeur: 2, label: "Facilit√©", icone: "‚ö°", detail: "Complexe, formation longue requise" },
                    api: { valeur: true, label: "API/Connecteur", icone: "üîå", detail: "Connecteurs ERP" },
                    multiSites: { valeur: true, label: "Multi-entrep√¥ts", icone: "üè¢", detail: "Multi-entrep√¥ts natif" },
                    supportFr: { valeur: true, label: "Support FR", icone: "üá´üá∑", detail: "Support en fran√ßais" }
                }
            },
            {
                id: 8,
                nom: "Assets Management",
                initiales: "AM",
                couleurLogo: "#0ea5e9",
                description: "Application mobile basique de suivi d'actifs",
                statut: "Non retenue",
                score: 4.0,
                siteWeb: "#",
                avantages: [
                    "Application mobile disponible sur Android",
                    "Interface simple et directe",
                    "Gratuite"
                ],
                inconvenients: [
                    "Aucune conformit√© RGPD v√©rifiable",
                    "Pas d'API ‚Äî aucune int√©gration possible",
                    "Mono-site, pas de gestion multi-entrep√¥ts",
                    "Support en anglais uniquement",
                    "Fonctionnalit√©s tr√®s limit√©es (historique partiel, export basique)"
                ],
                criteres: {
                    appMobile: { valeur: true, label: "App Mobile", icone: "üì±", detail: "Android uniquement" },
                    rgpd: { valeur: false, label: "Conformit√© RGPD", icone: "üîí", detail: "Aucune garantie RGPD" },
                    historique: { valeur: "partiel", label: "Historique", icone: "üìã", detail: "Historique limit√©" },
                    exportCsv: { valeur: "partiel", label: "Export CSV", icone: "üìä", detail: "Export basique" },
                    facilite: { valeur: 3, label: "Facilit√©", icone: "‚ö°", detail: "Simple mais fonctionnalit√©s limit√©es" },
                    api: { valeur: false, label: "API", icone: "üîå", detail: "Aucune API" },
                    multiSites: { valeur: false, label: "Multi-sites", icone: "üè¢", detail: "Mono-site" },
                    supportFr: { valeur: false, label: "Support FR", icone: "üá´üá∑", detail: "Anglais uniquement" }
                }
            }
        ];

        const total = applications.length;
        let currentIndex = 0;
        let isTransitioning = false;

        // === DOM REFS ===
        const slideContainer = document.getElementById('slideContainer');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        const progressDots = document.getElementById('progressDots');
        const navDots = document.getElementById('navDots');
        const btnPrev = document.getElementById('btnPrev');
        const btnNext = document.getElementById('btnNext');

        // === SCORE GRADIENT COLORS ===
        function getScoreGradient(score) {
            if (score >= 8) return { start: '#10b981', end: '#8b5cf6' };
            if (score >= 6) return { start: '#3b82f6', end: '#06b6d4' };
            return { start: '#f97316', end: '#ef4444' };
        }

        // === GENERATE SVG SCORE ===
        function buildScoreSVG(app, slideIndex) {
            const circumference = 2 * Math.PI * 54; // r=54
            const gradient = getScoreGradient(app.score);
            const gradientId = `scoreGrad${slideIndex}`;

            return `
                <div class="score-wrap">
                    <svg viewBox="0 0 120 120">
                        <defs>
                            <linearGradient id="${gradientId}" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" stop-color="${gradient.start}"/>
                                <stop offset="100%" stop-color="${gradient.end}"/>
                            </linearGradient>
                        </defs>
                        <circle class="score-bg" cx="60" cy="60" r="54"/>
                        <circle class="score-arc" cx="60" cy="60" r="54"
                                stroke="url(#${gradientId})"
                                data-score="${app.score}"
                                data-circumference="${circumference}"/>
                    </svg>
                    <div class="score-label">
                        <span class="score-number-big">${app.score}</span>
                        <span class="score-sub">/10</span>
                    </div>
                </div>
            `;
        }

        // === GENERATE CRITERE VALEUR ===
        function buildCritereValeur(crit) {
            if (crit.label === "Facilit√©") {
                const val = crit.valeur;
                const lvClass = `lv-${val}`;
                let dots = '';
                for (let i = 1; i <= 5; i++) {
                    dots += i <= val
                        ? `<span class="facilite-dot filled ${lvClass}"></span>`
                        : `<span class="facilite-dot"></span>`;
                }
                return `<div class="facilite-dots">${dots}</div>`;
            }

            if (crit.valeur === true) {
                return `<div class="val-icon oui">‚úì</div>`;
            }
            if (crit.valeur === false) {
                return `<div class="val-icon non">‚úó</div>`;
            }
            if (crit.valeur === "partiel") {
                return `<div class="val-icon partiel">‚ö†</div>`;
            }
            // fallback num√©rique
            return `<span style="color:#94a3b8;">${crit.valeur}</span>`;
        }

        // === STATUT BADGE CLASS ===
        function getStatutClass(statut) {
            if (statut === "Recommand√©e") return "recommandee";
            if (statut === "Alternative") return "alternative";
            return "non-retenue";
        }

        function getStatutIcon(statut) {
            if (statut === "Recommand√©e") return "‚òÖ";
            if (statut === "Alternative") return "‚óÜ";
            return "‚óã";
        }

        // === BUILD A SINGLE SLIDE HTML ===
        function buildSlide(app, index) {
            const critereKeys = Object.keys(app.criteres);
            const criteresHTML = critereKeys.map((key, ci) => {
                const c = app.criteres[key];
                return `
                    <div class="critere-row">
                        <div class="critere-left">
                            <span class="critere-icone">${c.icone}</span>
                            <div class="critere-info">
                                <span class="critere-label-text">${c.label}</span>
                                <span class="critere-detail">${c.detail}</span>
                            </div>
                        </div>
                        <div class="critere-valeur">
                            ${buildCritereValeur(c)}
                        </div>
                    </div>
                `;
            }).join('');

            const siteHTML = app.siteWeb !== '#'
                ? `<a href="${app.siteWeb}" target="_blank" rel="noopener" class="app-site-link">Voir le site web <svg width="14" height="14" viewBox="0 0 20 20" fill="none"><path d="M5 15L15 5M15 5H8M15 5v7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a>`
                : `<span style="font-size:0.82rem;color:#475569;">Site non disponible</span>`;

            return `
                <div class="app-slide ${index === 0 ? 'active' : ''}" data-index="${index}">
                    <div class="app-fiche" data-statut="${app.statut}">
                        <!-- COLONNE GAUCHE -->
                        <div class="app-col-left">
                            <div class="app-statut-badge ${getStatutClass(app.statut)}">
                                ${getStatutIcon(app.statut)} ${app.statut}
                            </div>

                            <div class="app-logo-big" style="background: linear-gradient(135deg, ${app.couleurLogo}, ${app.couleurLogo}dd);">
                                ${app.initiales}
                            </div>

                            <h2 class="app-nom">${app.nom}</h2>
                            <p class="app-desc">${app.description}</p>

                            ${buildScoreSVG(app, index)}

                            ${siteHTML}
                        </div>

                        <!-- COLONNE DROITE -->
                        <div class="app-col-right">
                            <div class="criteria-header">
                                <h3>Crit√®res d'√©valuation</h3>
                                <p>Survolez un crit√®re pour voir le d√©tail</p>
                            </div>
                            ${criteresHTML}

                            <!-- R√©sum√© avantages / inconv√©nients -->
                            <div class="app-resume">
                                <div class="resume-section">
                                    <div class="resume-title avantages">‚úì Points forts</div>
                                    <ul class="resume-list">
                                        ${app.avantages.map(a => `<li><span class="r-icon plus">+</span>${a}</li>`).join('')}
                                    </ul>
                                </div>
                                <div class="resume-section">
                                    <div class="resume-title inconvenients">‚ö† Limites</div>
                                    <ul class="resume-list">
                                        ${app.inconvenients.map(i => `<li><span class="r-icon moins">‚àí</span>${i}</li>`).join('')}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        // === INIT: Build all slides ===
        function initSlides() {
            let html = '';
            applications.forEach((app, i) => {
                html += buildSlide(app, i);
            });
            slideContainer.innerHTML = html;
        }

        // === INIT: Build dots ===
        function initDots() {
            // Progress dots (top)
            let pDotsHTML = '';
            for (let i = 0; i < total; i++) {
                pDotsHTML += `<button class="progress-dot ${i === 0 ? 'active' : ''}" data-index="${i}" aria-label="Application ${i + 1}"></button>`;
            }
            progressDots.innerHTML = pDotsHTML;

            // Nav dots (bottom)
            let nDotsHTML = '';
            for (let i = 0; i < total; i++) {
                nDotsHTML += `<button class="nav-dot ${i === 0 ? 'active' : ''}" data-index="${i}" aria-label="Application ${i + 1}"></button>`;
            }
            navDots.innerHTML = nDotsHTML;
        }

        // === UPDATE UI ===
        function updateUI() {
            // Progress bar
            const pct = ((currentIndex + 1) / total) * 100;
            progressFill.style.width = pct + '%';
            progressText.innerHTML = `Application <strong>${currentIndex + 1}</strong> / ${total}`;

            // Buttons state
            btnPrev.disabled = currentIndex === 0;
            btnNext.disabled = currentIndex === total - 1;

            // Progress dots
            progressDots.querySelectorAll('.progress-dot').forEach((d, i) => {
                d.classList.toggle('active', i === currentIndex);
                if (i < currentIndex) d.classList.add('visited');
            });

            // Nav dots
            navDots.querySelectorAll('.nav-dot').forEach((d, i) => {
                d.classList.toggle('active', i === currentIndex);
            });
        }

        // === ANIMATE SCORE ARC ===
        function animateScoreArc(slideEl) {
            const arc = slideEl.querySelector('.score-arc');
            if (!arc) return;

            const score = parseFloat(arc.dataset.score);
            const circumference = parseFloat(arc.dataset.circumference);
            const offset = circumference - (score / 10) * circumference;

            // Reset then animate
            arc.style.transition = 'none';
            arc.style.strokeDashoffset = circumference;

            requestAnimationFrame(() => {
                requestAnimationFrame(() => {
                    arc.style.transition = 'stroke-dashoffset 1.2s cubic-bezier(0.4, 0, 0.2, 1)';
                    arc.style.strokeDashoffset = offset;
                });
            });
        }

        // === ANIMATE CRITERIA STAGGER ===
        function animateCriteria(slideEl) {
            const rows = slideEl.querySelectorAll('.critere-row');
            rows.forEach((row, i) => {
                // Reset: remove animate-in and clear any inline styles
                row.classList.remove('animate-in');
                row.removeAttribute('style');

                // Force reflow so browser registers the reset
                void row.offsetWidth;

                // Re-apply transition-delay then animate in
                setTimeout(() => {
                    row.classList.add('animate-in');
                }, 80 + i * 60);
            });
        }

        // === NAVIGATE TO ===
        function navigateTo(newIndex, direction) {
            if (isTransitioning || newIndex === currentIndex || newIndex < 0 || newIndex >= total) return;
            isTransitioning = true;

            const slides = slideContainer.querySelectorAll('.app-slide');
            const currentSlide = slides[currentIndex];
            const nextSlide = slides[newIndex];

            // Direction: 'next' or 'prev'
            const dir = direction || (newIndex > currentIndex ? 'next' : 'prev');

            // Exit current
            currentSlide.classList.remove('active');
            currentSlide.classList.add(dir === 'next' ? 'exit-left' : 'exit-right');

            // Prepare next
            nextSlide.classList.remove('exit-left', 'exit-right');
            nextSlide.classList.add(dir === 'next' ? 'enter-right' : 'enter-left');

            // Force reflow
            void nextSlide.offsetWidth;

            // Activate next
            requestAnimationFrame(() => {
                nextSlide.classList.remove('enter-right', 'enter-left');
                nextSlide.classList.add('active');

                currentIndex = newIndex;
                updateUI();
                animateScoreArc(nextSlide);
                animateCriteria(nextSlide);

                // Scroll to top of showcase
                const showcase = document.querySelector('.app-showcase');
                if (showcase) {
                    const rect = showcase.getBoundingClientRect();
                    if (rect.top < 0) {
                        window.scrollTo({
                            top: showcase.offsetTop - 130,
                            behavior: 'smooth'
                        });
                    }
                }
            });

            // Cleanup after transition
            setTimeout(() => {
                currentSlide.classList.remove('exit-left', 'exit-right');
                isTransitioning = false;
            }, 500);
        }

        // === EVENTS: Buttons ===
        btnPrev.addEventListener('click', () => navigateTo(currentIndex - 1, 'prev'));
        btnNext.addEventListener('click', () => navigateTo(currentIndex + 1, 'next'));

        // === EVENTS: Dots ===
        function initDotEvents() {
            progressDots.querySelectorAll('.progress-dot').forEach(dot => {
                dot.addEventListener('click', () => {
                    const idx = parseInt(dot.dataset.index);
                    navigateTo(idx, idx > currentIndex ? 'next' : 'prev');
                });
            });

            navDots.querySelectorAll('.nav-dot').forEach(dot => {
                dot.addEventListener('click', () => {
                    const idx = parseInt(dot.dataset.index);
                    navigateTo(idx, idx > currentIndex ? 'next' : 'prev');
                });
            });
        }

        // === EVENTS: Keyboard ===
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                e.preventDefault();
                navigateTo(currentIndex - 1, 'prev');
            } else if (e.key === 'ArrowRight') {
                e.preventDefault();
                navigateTo(currentIndex + 1, 'next');
            }
        });

        // === EVENTS: Swipe mobile ===
        let touchStartX = 0;
        let touchStartY = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
        }, { passive: true });

        document.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            const touchEndY = e.changedTouches[0].screenY;
            const diffX = touchStartX - touchEndX;
            const diffY = Math.abs(touchStartY - touchEndY);

            // Only trigger if horizontal swipe is dominant
            if (Math.abs(diffX) > 60 && diffY < Math.abs(diffX) * 0.7) {
                if (diffX > 0) {
                    navigateTo(currentIndex + 1, 'next'); // Swipe left = next
                } else {
                    navigateTo(currentIndex - 1, 'prev'); // Swipe right = prev
                }
            }
        }, { passive: true });

        // === EVENTS: Touch on criteria (mobile detail reveal) ===
        document.addEventListener('click', (e) => {
            const row = e.target.closest('.critere-row');
            if (row) {
                // Toggle on mobile
                document.querySelectorAll('.critere-row.touch-active').forEach(r => {
                    if (r !== row) r.classList.remove('touch-active');
                });
                row.classList.toggle('touch-active');
            }
        });

        // === INIT ===
        initSlides();
        initDots();
        initDotEvents();
        updateUI();

        // Animate initial slide with a delay to let main.js run first,
        // then override any interference from its IntersectionObserver
        function initFirstSlide() {
            const firstSlide = slideContainer.querySelector('.app-slide.active');
            if (firstSlide) {
                // Clear any inline styles set by main.js on our elements
                firstSlide.querySelectorAll('.app-col-left, .app-col-right, .criteria-header').forEach(el => {
                    el.style.opacity = '';
                    el.style.transform = '';
                });

                animateScoreArc(firstSlide);
                animateCriteria(firstSlide);
            }
        }

        // Run after a short delay to ensure main.js has run
        setTimeout(initFirstSlide, 400);
        // Also run on window load as safety net
        window.addEventListener('load', () => setTimeout(initFirstSlide, 200));

    })();
    </script>
</body>
</html>
